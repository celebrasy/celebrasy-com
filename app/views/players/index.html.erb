<div class="row">
  <div class="heading-block">
    <h2> Players </h2>
  </div>

  <div class="portlet portlet-default">
    <table 
      class="table table-striped table-bordered table-hover ui-datatable" 
      data-paging=true
      data-page-length=30
      data-ordering=true
      data-order="[[ 8, &quot;desc&quot; ]]"
      data-length-change=false
      data-info=false
      data-searching=true
    >
      <thead>
        <tr role="row">
          <th aria-label="Player">Player</th>
          <th aria-label="Position">Position</th>
          <% @league.point_category_groups.each do |group| %>
            <th aria-label="<%= group.capitalize %> Points"><%= group.capitalize %> Points</th>
          <% end %>
          <th aria-label="Total Points">Total Points</th>
        </tr>
      </thead>
      <tbody>
        <% @league.players.each do |player| %>
          <tr role="row" class="odd">
            <td><%= player.first_name %> <%= player.last_name %></td>
            <td><%= player.league_position.title %></td>
            <% @league.point_category_groups.each do |group| %>
              <td><%= player.points_for_group(group) %></td>
            <% end %>
            <td><%= player.total_points %></td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>
</div>
